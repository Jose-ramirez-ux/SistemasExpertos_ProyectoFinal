<div class="container">

  <h1 class="title">Sistema Experto de Técnicas de Estudio</h1>

  <div class="card">

    <h2 class="section-title">Ingresar Datos</h2>

    <form (ngSubmit)="enviar()">

      <div class="form-group">
        <label>Preferencia de estudio:</label>
        <select [(ngModel)]="entrada.estilo" name="estilo">
          <option value="visual">Visual</option>
          <option value="auditivo">Auditivo</option>
          <option value="kinestesico">Kinestésico</option>
          <option value="mixto">Mixto</option>
        </select>
      </div>

      <div class="form-group">
        <label>Dificultad del tema:</label>
        <select [(ngModel)]="entrada.dificultad" name="dificultad">
          <option value="baja">Baja</option>
          <option value="media">Media</option>
          <option value="alta">Alta</option>
        </select>
      </div>

      <div class="form-group">
        <label>Tiempo disponible (minutos):</label>
        <input type="number" [(ngModel)]="entrada.tiempoMinutos" name="tiempoMinutos">
      </div>

      <div class="form-group">
        <label>Conocimiento previo:</label>
        <select [(ngModel)]="entrada.conocimientoPrevio" name="conocimientoPrevio">
          <option value="bajo">Bajo</option>
          <option value="medio">Medio</option>
          <option value="alto">Alto</option>
        </select>
      </div>

      <div class="form-group">
        <label>Horas restantes para el examen:</label>
        <input type="number" [(ngModel)]="entrada.horasParaExamen" name="horasParaExamen">
      </div>

      <div class="form-group">
        <label>Objetivo:</label>
        <select [(ngModel)]="entrada.objetivo" name="objetivo">
          <option value="memorizar">Memorizar</option>
          <option value="comprender">Comprender</option>
          <option value="resolver_problemas">Resolver problemas</option>
        </select>
      </div>

      <button class="btn-enviar">Generar plan</button>
    </form>
  </div>

  <!-- Error -->
  <div *ngIf="error" class="alert alert-error">{{ error }}</div>

  <!-- Resultado -->
  <div *ngIf="resultado" class="result-card">
    <h2 class="section-title">Resultado</h2>

    <h3>Técnicas recomendadas:</h3>
    <ul>
      <li *ngFor="let t of resultado.tecnicasRecomendadas">{{ t }}</li>
    </ul>

    <h3>Bloques sugeridos:</h3>
    <div class="bloque" *ngFor="let b of resultado.bloques">
      <strong>{{ b.nombre }}</strong> — {{ b.duracionMinutos }} min 
      <p>{{ b.descripcion }}</p>
    </div>

    <h3>Justificación:</h3>
    <pre class="justificacion">{{ resultado.justificacion }}</pre>

  </div>
</div>
